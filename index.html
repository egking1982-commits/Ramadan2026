<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø±Ù…Ø¶Ø§Ù† Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯ 1447</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a2a6c; --gold: #f2a900; --silver: #c0c0c0; --bronze: #cd7f32; --dark: #0f172a; --card: #1e293b; --red: #ef4444; --success: #22c55e; --blue: #3b82f6;
        }
        body {
            font-family: 'Cairo', sans-serif; background: radial-gradient(circle at top, #1e293b, #0f172a);
            color: #f8fafc; margin: 0; min-height: 100vh; text-align: center; overflow-x: hidden;
        }
        .page { display: none; padding: 20px; max-width: 500px; margin: auto; animation: fadeIn 0.5s ease; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .card {
            background: var(--card); padding: 20px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05);
        }
        /* ØªØµÙ…ÙŠÙ… Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø°ÙƒØ§Ø± */
        .dhikr-bar {
            background: rgba(242, 169, 0, 0.1); border: 1px dashed var(--gold);
            padding: 10px; border-radius: 15px; margin-bottom: 15px;
            font-weight: 600; color: var(--gold); animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { opacity: 0.8; } 50% { opacity: 1; } 100% { opacity: 0.8; } }

        .prayer-bar {
            background: linear-gradient(90deg, rgba(242, 169, 0, 0.15), transparent);
            border-right: 4px solid var(--gold); padding: 12px; border-radius: 10px; margin-bottom: 15px; font-weight: bold;
        }

        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 10000; justify-content: center; align-items: center;
        }
        .modal-content {
            background: var(--card); width: 85%; max-width: 400px; padding: 25px; border-radius: 25px;
            border: 2px solid var(--gold); text-align: center;
        }
        .exp-box { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; margin: 15px 0; font-size: 0.95rem; line-height: 1.6; color: #cbd5e1; }

        button {
            width: 100%; padding: 14px; margin: 8px 0; border-radius: 12px; border: none;
            font-weight: 700; cursor: pointer; font-family: 'Cairo';
            background: linear-gradient(135deg, var(--gold), #b8860b); color: #000; transition: 0.3s;
        }
        button:disabled { background: #475569; color: #94a3b8; cursor: not-allowed; }
        input, textarea {
            width: 95%; padding: 12px; margin: 8px 0; border-radius: 10px;
            border: 1px solid #334155; background: #0f172a; color: white; text-align: center; font-family: 'Cairo';
        }
        
        .leaderboard-item { 
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; border-radius: 12px; background: rgba(255,255,255,0.03); 
            margin-bottom: 8px; font-size: 0.95rem; border: 1px solid transparent;
            transition: all 0.4s ease;
        }
        .rank-1 { border-color: var(--gold); background: rgba(242, 169, 0, 0.15); box-shadow: 0 0 10px rgba(242, 169, 0, 0.2); }
        .rank-2 { border-color: var(--silver); background: rgba(192, 192, 192, 0.1); }
        .rank-3 { border-color: var(--bronze); background: rgba(205, 127, 50, 0.1); }
        .medal { font-size: 1.2rem; margin-left: 8px; }

        .user-admin-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #334155; font-size: 0.8rem; }
        .btn-small { width: auto; padding: 4px 8px; font-size: 0.65rem; margin: 2px; color: white; }
        .btn-red { background: var(--red); }
        .btn-blue { background: var(--blue); }
        
        #toast-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; width: 90%; max-width: 400px; }
        .toast { padding: 15px 20px; border-radius: 12px; margin-bottom: 10px; color: white; font-weight: 600; animation: slideIn 0.3s ease-out; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        @keyframes slideIn { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        #countdown { font-family: monospace; font-size: 1.2rem; color: var(--gold); margin: 15px 0; font-weight: 800; }
    </style>
</head>
<body>

    <audio id="login-sound" src="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"></audio>
    <audio id="adhan-sound" src="https://www.islamcan.com/common/adhan/makkah.mp3"></audio>

    <div id="toast-container"></div>

    <div id="explanation-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-status"></h2>
            <div class="exp-box" id="modal-text"></div>
            <button onclick="location.reload()">Ø§Ø³ØªÙ…Ø±Ø§Ø± âœ¨</button>
        </div>
    </div>

    <div id="login-page" class="page active">
        <div class="card">
            <h1>ğŸŒ™</h1>
            <h2>Ø±Ù…Ø¶Ø§Ù† Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯ 1447</h2>
            <div id="countdown">â³ Ø¬Ø§Ø±ÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª...</div>
            <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
            <button onclick="handleLogin()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <div id="main-page" class="page">
        <div class="dhikr-bar" id="dhikr-text">Ø£Ù„Ø§ Ø¨Ø°ÙƒØ± Ø§Ù„Ù„Ù‡ ØªØ·Ù…Ø¦Ù† Ø§Ù„Ù‚Ù„ÙˆØ¨</div>
        
        <div class="prayer-bar" id="prayer-info">ğŸ“ Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯ | Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©...</div>
        
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span id="user-display" style="color: var(--gold); font-weight: 800;"></span>
                <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="user-score">0</b></span>
            </div>
        </div>

        <div id="quiz-area" class="card">
            <h3 style="color: var(--gold);">â­ Ø³Ø¤Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…</h3>
            <div id="q-text">Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¸Ù‡Ø± ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 8:30 Ù…Ø³Ø§Ø¡Ù‹...</div>
            <div id="options-box" style="margin-top: 10px;"></div>
        </div>

        <div class="card">
            <h3 style="color: var(--gold);">ğŸ† Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù (Ù…Ø¨Ø§Ø´Ø± âš¡)</h3>
            <div id="leaderboard-list">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
        </div>

        <div id="admin-area" style="display:none;" class="card">
            <h3 style="color:var(--gold)">ğŸ› ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
            <div style="text-align: right;">
                <h4>ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h4>
                <input type="number" id="adm-day" placeholder="Ø±Ù‚Ù… Ø§Ù„ÙŠÙˆÙ…">
                <textarea id="adm-text" placeholder="Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„"></textarea>
                <input type="text" id="adm-opts" placeholder="Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª (Ø§ÙØµÙ„ Ø¨Ù€ ,)">
                <input type="text" id="adm-correct" placeholder="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©">
                <textarea id="adm-explanation" placeholder="Ø§Ù„ØªÙØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ"></textarea>
                <button onclick="quickAdd()" style="background: var(--success); color: white;">Ø­ÙØ¸ Ø§Ù„Ø³Ø¤Ø§Ù„ âœ…</button>
            </div>
            
            <div style="margin-top: 20px; text-align: right;">
                <h4>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ³Ø§Ø¨Ù‚ÙŠÙ†</h4>
                <div id="users-admin-list" style="max-height: 250px; overflow-y: auto; background: rgba(0,0,0,0.2); border-radius: 10px;"></div>
                <button onclick="resetAllScores()" style="background: #f59e0b; margin-top: 10px;">ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· âš ï¸</button>
            </div>
        </div>
        
        <button onclick="logout()" style="background:none; color:var(--red); border:1px solid var(--red); width: auto; font-size: 0.8rem;">Ø®Ø±ÙˆØ¬</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut, updatePassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, deleteDoc, increment, collection, onSnapshot, query, orderBy, limit, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCKNwu6R3wjeHvWOrpiWkx5fnk0luEX_z4",
            authDomain: "ramadan-d4c32.firebaseapp.com",
            projectId: "ramadan-d4c32",
            storageBucket: "ramadan-d4c32.firebasestorage.app",
            messagingSenderId: "226219397241",
            appId: "1:226219397241:web:c9841a5806ea4402fe04a8"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const ADMIN_EMAIL = "m@m.com";
        const RAMADAN_START = new Date("Feb 18, 2026 20:30:00").getTime();

        // Ù…ÙŠØ²Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…ØªØºÙŠØ±Ø©
        const dhikrs = [
            "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡", "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±", 
            "Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡", "Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡", "Ø­Ø³Ø¨Ù†Ø§ Ø§Ù„Ù„Ù‡ ÙˆÙ†Ø¹Ù… Ø§Ù„ÙˆÙƒÙŠÙ„",
            "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª Ø³Ø¨Ø­Ø§Ù†Ùƒ Ø¥Ù†ÙŠ ÙƒÙ†Øª Ù…Ù† Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†", 
            "Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘Ù Ø¹Ù„Ù‰ Ø³ÙŠØ¯Ù†Ø§ Ù…Ø­Ù…Ø¯ ÙˆØ¹Ù„Ù‰ Ø¢Ù„Ù‡ ÙˆØµØ­Ø¨Ù‡ ÙˆØ³Ù„Ù…"
        ];
        
        function rotateDhikr() {
            const el = document.getElementById('dhikr-text');
            if(el) {
                const randomDhikr = dhikrs[Math.floor(Math.random() * dhikrs.length)];
                el.innerText = `âœ¨ ${randomDhikr} âœ¨`;
            }
        }
        setInterval(rotateDhikr, 10000); // ØªØºÙŠÙŠØ± Ø§Ù„Ø°ÙƒØ± ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ

        function showToast(m, type="info") {
            const container = document.getElementById('toast-container');
            const t = document.createElement('div');
            t.className = `toast`;
            t.style.background = type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--red)' : 'var(--blue)';
            t.innerText = m;
            container.appendChild(t);
            setTimeout(() => t.remove(), 3500);
        }

        function runCountdown() {
            const now = new Date().getTime();
            const diff = RAMADAN_START - now;
            const el = document.getElementById("countdown");
            if (diff > 0) {
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff % 86400000) / 3600000);
                const m = Math.floor((diff % 3600000) / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                el.innerHTML = `${d} ÙŠÙˆÙ… Ùˆ ${h}:${m}:${s}`;
            } else { el.innerHTML = "ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…!"; }
        }
        setInterval(runCountdown, 1000);

        async function fetchNextPrayer() {
            try {
                const res = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=Port%20Said&country=Egypt&method=5`);
                const json = await res.json();
                const timings = json.data.timings;
                const now = new Date();
                const currentH = now.getHours();
                const currentM = now.getMinutes();
                const currentMinutes = currentH * 60 + currentM;

                const prayers = [
                    { name: "Ø§Ù„ÙØ¬Ø±", time: timings.Fajr },
                    { name: "Ø§Ù„Ø¸Ù‡Ø±", time: timings.Dhuhr },
                    { name: "Ø§Ù„Ø¹ØµØ±", time: timings.Asr },
                    { name: "Ø§Ù„Ù…ØºØ±Ø¨", time: timings.Maghrib },
                    { name: "Ø§Ù„Ø¹Ø´Ø§Ø¡", time: timings.Isha }
                ];

                let nextPrayer = null;
                for (let p of prayers) {
                    const [h, m] = p.time.split(':').map(Number);
                    if (h === currentH && m === currentM) {
                        const adhan = document.getElementById('adhan-sound');
                        if (adhan.paused) { adhan.play().catch(()=>{}); showToast(`Ø£Ø°Ø§Ù† ${p.name}`, "success"); }
                    }
                    if ((h * 60 + m) > currentMinutes && !nextPrayer) nextPrayer = p;
                }
                if (!nextPrayer) nextPrayer = prayers[0];
                document.getElementById('prayer-info').innerHTML = `ğŸ“ Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯ | Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: <b style="color:var(--gold)">${nextPrayer.name} (${nextPrayer.time})</b>`;
            } catch (e) {}
        }
        setInterval(fetchNextPrayer, 60000);

        function initRealtimeLeaderboard() {
            const q = query(
                collection(db, "users"), 
                where("email", "!=", ADMIN_EMAIL),
                orderBy("email"), 
                orderBy("score", "desc"), 
                limit(10)
            );
            
            onSnapshot(q, (snap) => {
                const list = document.getElementById('leaderboard-list');
                list.innerHTML = '';
                let users = [];
                snap.forEach(doc => users.push(doc.data()));
                users.sort((a, b) => b.score - a.score);

                let rank = 1;
                users.forEach(d => {
                    const item = document.createElement('div');
                    let rankClass = '';
                    let medal = '';
                    if(rank === 1) { rankClass = 'rank-1'; medal = '<span class="medal">ğŸ¥‡</span>'; }
                    else if(rank === 2) { rankClass = 'rank-2'; medal = '<span class="medal">ğŸ¥ˆ</span>'; }
                    else if(rank === 3) { rankClass = 'rank-3'; medal = '<span class="medal">ğŸ¥‰</span>'; }
                    
                    item.className = `leaderboard-item ${rankClass}`;
                    item.innerHTML = `<span>${medal} <b>${rank}.</b> ${d.email.split('@')[0]}</span> <span style="font-weight:800">${d.score}</span>`;
                    list.appendChild(item);
                    rank++;
                });
            });
        }

        async function setupQuiz(solvedDay) {
            const now = new Date().getTime();
            if (now < RAMADAN_START) {
                document.getElementById('q-text').innerText = "Ø§Ù†ØªØ¸Ø±ÙˆØ§ Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ ÙŠÙˆÙ… 1 Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ø³Ø§Ø¹Ø© 8:30 Ù…Ø³Ø§Ø¡Ù‹ ğŸŒ™";
                return;
            }

            const rDay = Math.floor((now - RAMADAN_START) / 86400000) + 1;
            const qSnap = await getDoc(doc(db, "questions", `day_${rDay}`));
            
            if(qSnap.exists()) {
                const q = qSnap.data();
                document.getElementById('q-text').innerText = q.text;
                const box = document.getElementById('options-box');
                box.innerHTML = '';
                q.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.innerText = opt;
                    if(solvedDay === rDay) btn.disabled = true;
                    btn.onclick = async () => {
                        const isCorrect = opt.trim() === q.correct.trim();
                        await updateDoc(doc(db, "users", auth.currentUser.uid), {lastSolved: rDay});
                        if(isCorrect && auth.currentUser.email !== ADMIN_EMAIL) await updateDoc(doc(db, "users", auth.currentUser.uid), {score: increment(10)});
                        document.getElementById('explanation-modal').style.display = 'flex';
                        document.getElementById('modal-status').innerText = isCorrect ? "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‰" : "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø© ğŸŒ™";
                        document.getElementById('modal-status').style.color = isCorrect ? "var(--success)" : "var(--red)";
                        document.getElementById('modal-text').innerHTML = `<b>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø©:</b><br>${q.explanation || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙØ³ÙŠØ± Ù…ØªØ§Ø­."}`;
                    };
                    box.appendChild(btn);
                });
            } else {
                document.getElementById('q-text').innerText = "Ø³Ø¤Ø§Ù„ Ø§Ù„ÙŠÙˆÙ… ÙŠØ¸Ù‡Ø± Ø§Ù„Ø³Ø§Ø¹Ø© 8:30 Ù…Ø³Ø§Ø¡Ù‹... Ø§Ù†ØªØ¸Ø±ÙˆÙ†Ø§!";
            }
        }

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                document.getElementById('login-sound').play().catch(()=>{});
                const userRef = doc(db, "users", user.uid);
                
                onSnapshot(userRef, (docSnap) => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        document.getElementById('user-score').innerText = data.score;
                        if(data.forceReset) {
                            updatePassword(user, "123456");
                            updateDoc(userRef, {forceReset: false});
                            showToast("ØªÙ… ØªØµÙÙŠØ± ÙƒÙ„Ù…Ø© Ø³Ø±Ùƒ Ø¥Ù„Ù‰ 123456", "success");
                        }
                        setupQuiz(data.lastSolved);
                    }
                });

                let snap = await getDoc(userRef);
                if(!snap.exists()) await setDoc(userRef, {email: user.email, score: 0, lastSolved: 0, forceReset: false});
                
                const data = (await getDoc(userRef)).data();
                document.getElementById('login-page').classList.remove('active');
                document.getElementById('main-page').classList.add('active');
                document.getElementById('user-display').innerText = user.email.split('@')[0];
                
                if(user.email === ADMIN_EMAIL) {
                    document.getElementById('admin-area').style.display = 'block';
                    loadAdminUsers();
                }
                fetchNextPrayer();
                initRealtimeLeaderboard();
                rotateDhikr(); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙÙˆØ± Ø§Ù„Ø¯Ø®ÙˆÙ„
            }
        });

        window.loadAdminUsers = async () => {
            const q = query(collection(db, "users"));
            onSnapshot(q, (snap) => {
                document.getElementById('users-admin-list').innerHTML = snap.docs.map(d => `
                    <div class="user-admin-item">
                        <span>${d.data().email.split('@')[0]} (${d.data().score})</span>
                        <div>
                            <button class="btn-small btn-blue" onclick="resetUserPass('${d.id}')">Ù‚ÙÙ„</button>
                            <button class="btn-small btn-red" onclick="deleteUser('${d.id}')">Ø­Ø°Ù</button>
                        </div>
                    </div>
                `).join('');
            });
        }

        window.resetUserPass = async (id) => { if(confirm("ØªØµÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù€ 123456ØŸ")) await updateDoc(doc(db, "users", id), {forceReset: true}); }
        window.deleteUser = async (id) => { if(confirm("Ø­Ø°Ù Ù†Ù‡Ø§Ø¦ÙŠØŸ")) { await deleteDoc(doc(db, "users", id)); } }
        window.resetAllScores = async () => { if(confirm("ØªØµÙÙŠØ± Ù†Ù‚Ø§Ø· Ø§Ù„Ø¬Ù…ÙŠØ¹ØŸ")) { const s = await getDocs(collection(db, "users")); s.forEach(u => updateDoc(doc(db, "users", u.id), {score: 0})); showToast("ØªÙ… Ø§Ù„ØªØµÙÙŠØ±"); } }

        window.quickAdd = async () => {
            const d = document.getElementById('adm-day').value;
            await setDoc(doc(db, "questions", `day_${d}`), {
                text: document.getElementById('adm-text').value,
                options: document.getElementById('adm-opts').value.split(','),
                correct: document.getElementById('adm-correct').value.trim(),
                explanation: document.getElementById('adm-explanation').value
            });
            showToast("ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…", "success");
        };

        window.handleLogin = () => signInWithEmailAndPassword(auth, document.getElementById('email').value, document.getElementById('password').value).catch(()=>showToast("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©", "error"));
        window.logout = () => signOut(auth).then(()=>location.reload());
    </script>
</body>
</html>
